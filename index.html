<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>murmur — Cameron Barnett</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: "SF Mono", "Consolas", monospace;
      font-weight: 200;
      -webkit-font-smoothing: antialiased;
      background: #0a0a0a;
      color: #ffffff;
      min-height: 100vh;
      margin: 0;
      padding: 3rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .byline {
      font-size: 0.85rem;
      font-weight: 200;
      color: #9aa;
      text-shadow: 0 0 12px rgba(100, 180, 255, 0.4);
      margin-bottom: 2rem;
    }
    .poem {
      max-width: 420px;
      font-size: 1rem;
      font-weight: 200;
      line-height: 1.8;
      white-space: pre-wrap;
      word-break: break-word;
      color: #ffffff;
    }
    .poem .stanza { margin-bottom: 1.5rem; }
    .poem .stanza-num {
      font-variant-numeric: tabular-nums;
      margin-bottom: 0.25rem;
    }
    .page-break {
      margin: 2.5rem 0;
      text-align: center;
      color: #444;
      font-size: 0.75rem;
    }
    .roll {
      display: inline-block;
      font-variant-numeric: tabular-nums;
      min-width: 1ch;
    }
    .roll.done { animation: none; }
    .symbol-roll {
      display: inline-block;
      min-width: 1ch;
      color: #7dd3fc;
      text-shadow: 0 0 8px rgba(125, 211, 252, 0.6);
    }
    .unstable {
      display: inline-block;
      color: #fff;
      animation: unstable 3.2s steps(3, jump-end) infinite;
    }
    .unstable:nth-child(8n)   { animation: unstable 2.6s steps(4, jump-end) infinite; animation-delay: 0s; }
    .unstable:nth-child(8n+1) { animation: unstable 3.6s steps(3, jump-end) infinite; animation-delay: -0.3s; }
    .unstable:nth-child(8n+2) { animation: unstable 2.9s steps(4, jump-end) infinite; animation-delay: -0.8s; }
    .unstable:nth-child(8n+3) { animation: unstable 4s steps(3, jump-end) infinite;  animation-delay: -0.1s; }
    .unstable:nth-child(8n+4) { animation: unstable 3s steps(4, jump-end) infinite;  animation-delay: -1.6s; }
    .unstable:nth-child(8n+5) { animation: unstable 3.8s steps(3, jump-end) infinite; animation-delay: -0.5s; }
    .unstable:nth-child(8n+6) { animation: unstable 2.4s steps(4, jump-end) infinite; animation-delay: -0.02s; }
    .unstable:nth-child(8n+7) { animation: unstable 3.4s steps(3, jump-end) infinite; animation-delay: -1.1s; }
    @keyframes unstable {
      0%   { transform: translate(0, 0); opacity: 1; color: #fff; text-shadow: none; }
      8%   { transform: translate(1px, 0); opacity: 0.25; color: #1a1a1a; text-shadow: 0 0 1px rgba(255, 120, 140, 0.06); }
      16%  { transform: translate(-1px, 0); opacity: 0.95; color: #eee; text-shadow: none; }
      33%  { transform: translate(-2px, 0); opacity: 0.15; color: #0a0a0a; text-shadow: 0 0 2px rgba(120, 180, 255, 0.05); }
      50%  { transform: translate(2px, 0); opacity: 0.9; color: #fff; text-shadow: none; }
      66%  { transform: translate(0, 0); opacity: 0.2; color: #111; text-shadow: 0 0 1px rgba(200, 140, 255, 0.04); }
      83%  { transform: translate(1px, 0); opacity: 0.85; color: #e8e8e8; text-shadow: none; }
      100% { transform: translate(0, 0); opacity: 1; color: #fff; text-shadow: none; }
    }
    .input-section {
      width: 100%;
      max-width: 420px;
      margin-bottom: 2rem;
    }
    .input-section label {
      display: block;
      font-size: 0.8rem;
      font-weight: 200;
      color: #fff;
      margin-bottom: 0.5rem;
      transition: opacity 1s ease-out;
    }
    .input-section input,
    .input-section textarea {
      width: 100%;
      font-weight: 200;
      background: #0a0a0a;
      border: 1px solid #2a3a4a;
      color: #ffffff;
      font-family: inherit;
      font-size: 14px;
      padding: 0.5rem 0.75rem;
    }
    .input-section input { margin-bottom: 0.75rem; }
    .input-section textarea {
      min-height: 100px;
      resize: vertical;
    }
    .input-section input:focus,
    .input-section textarea:focus {
      outline: none;
      border-color: #58a6ff;
      box-shadow: 0 0 0 1px #58a6ff, 0 0 12px rgba(88, 166, 255, 0.35);
    }
    .input-section input[type="file"] {
      padding: 0.25rem 0;
      font-size: 12px;
    }
    .ocr-mode {
      display: flex;
      align-items: stretch;
      margin-top: 0.75rem;
      border: 1px solid #2a3a4a;
      width: fit-content;
    }
    .ocr-mode-option {
      padding: 0.4rem 0.75rem;
      font-size: 0.8rem;
      font-weight: 200;
      color: #fff;
      background: #0a0a0a;
      border: none;
      cursor: pointer;
      font-family: inherit;
    }
    .ocr-mode-option:first-child {
      border-right: 1px solid #2a3a4a;
    }
    .ocr-mode-option.active {
      background: #1a2530;
      opacity: 1;
    }
    .ocr-mode-option:not(.active) {
      opacity: 0.5;
    }
    .ocr-mode {
      transition: opacity 1s ease-out;
    }
    .ocr-status {
      font-size: 0.75rem;
      font-weight: 200;
      color: #fff;
      margin-top: 0.5rem;
      min-height: 1.2em;
      transition: opacity 1s ease-out;
    }
    .ocr-status.working { color: #fff; }
    .ocr-status.error { color: #f87171; text-shadow: 0 0 8px rgba(248, 113, 113, 0.5); }
    .punctuation-slow {
      opacity: 0.2;
      animation: punctuation-appear 2.5s ease-out forwards;
    }
    @keyframes punctuation-appear {
      to { opacity: 1; }
    }
    body.meta-faded .input-section label,
    body.meta-faded .input-section input,
    body.meta-faded .input-section textarea,
    body.meta-faded .ocr-mode,
    body.meta-faded .ocr-status,
    body.meta-faded .byline {
      opacity: 0.2;
    }
    .input-section label,
    .input-section input,
    .input-section textarea {
      transition: opacity 1s ease-out;
    }
    .byline {
      transition: opacity 1s ease-out;
    }
  </style>
</head>
<body>
  <div class="input-section">
    <label for="byline-input">Title / author (optional)</label>
    <input type="text" id="byline-input" placeholder="e.g. murmur — Cameron Barnett">
    <label for="poem-input">Your poem (optional — leave blank for default)</label>
    <textarea id="poem-input" placeholder="Paste or type your own poem here..."></textarea>
    <label for="file-input">Or upload an image or PDF</label>
    <input type="file" id="file-input" accept="image/*,.pdf">
    <div class="ocr-mode" id="ocr-mode" role="group" aria-label="OCR mode">
      <button type="button" class="ocr-mode-option active" id="ocr-option-bad" data-mode="bad">Yes</button>
      <button type="button" class="ocr-mode-option" id="ocr-option-accurate" data-mode="accurate">No</button>
    </div>
    <p class="ocr-status" id="ocr-status"></p>
  </div>
  <p class="byline" id="byline">murmur — Cameron Barnett</p>
  <main class="poem" id="poem"></main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
  </script>
  <script>
    const mathWords = {
      'plus': '+',
      'minus': '−',
      'times': '×',
      'divided by': '÷',
      'equals': '=',
      'squared': '²',
      'cubed': '³',
      'less than': '<',
      'greater than': '>',
      'less than or equal to': '≤',
      'greater than or equal to': '≥',
      'not equal to': '≠',
      'approximately': '≈',
      'infinity': '∞',
      'pi': 'π',
      'square root': '√',
      'power': '^'
    };

    const punctuationWords = {
      'question mark': '?',
      'exclamation mark': '!',
      'exclamation point': '!',
      'full stop': '.',
      'open quote': '"',
      'close quote': '"',
      'open parenthesis': '(',
      'close parenthesis': ')',
      'ellipsis': '…',
      'semicolon': ';',
      'apostrophe': "'",
      'comma': ',',
      'period': '.',
      'colon': ':',
      'hyphen': '-',
      'dash': '—',
      'quote': '"',
      'parenthesis': '(',
      'open bracket': '[',
      'close bracket': ']'
    };

    const PUNCTUATION_SLOW = ',.?!\':;-—"…()[]';

    const digits = '01';
    const digitsCycle = '23456789';
    const DIGIT_TO_ASCII = { '0': 'I', '1': 'I' };
    const rollIntervalMs = 420;
    const rollStepsBeforeI = 12;
    const digitHoldMs = 420;
    const SYMBOL_CYCLE = ['+', '−', '×', '÷', '=', '∞', '√', 'π', '^'];
    const SYMBOL_PHASE_OFFSET_MS = 210;

    function escapeRegex(s) {
      return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    function applyReplacements(text, map) {
      let out = text;
      const keys = Object.keys(map).sort((a, b) => b.length - a.length);
      for (const key of keys) {
        out = out.replace(new RegExp(escapeRegex(key), 'gi'), map[key]);
      }
      return out;
    }

    function replaceMathWords(text) {
      return applyReplacements(applyReplacements(text, punctuationWords).replace(/\band\b/gi, '&'), mathWords);
    }

    function isZeroOrOne(c) {
      return c === '0' || c === '1';
    }

    function isMathSymbol(c) {
      return SYMBOL_CYCLE.indexOf(c) !== -1 || '²³<>≤≠≈'.indexOf(c) !== -1;
    }

    function isFragmentationChar(c) {
      return c === '•' || c === '·' || c === '~' || c === '_';
    }

    function isUnstableChar(c) {
      return isFragmentationChar(c) || c === '&';
    }

    const FRAG_CHARS = ['•', '·', '~', '_'];
    const TYPO_CYCLE_SYMBOLS = ['•', '·', '~', '_', '−', '×', '÷', '=', '∞', '√', '^', '±', '≠', '≈', '≤', '≥'];
    const SUBSTITUTION_POOL = '•·~_•·~_•·~_•·~_•·~_•·~_•·~_•·~_•·~_•·~_•·~_' +
      'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    const SUBST_POOL_DIGIT_START = SUBSTITUTION_POOL.length - 10;

    function randomSubstitutionChar() {
      const r = Math.random();
      if (r < 0.88) return FRAG_CHARS[Math.floor(Math.random() * FRAG_CHARS.length)];
      if (r < 0.96) return String.fromCharCode(Math.random() < 0.5 ? 97 + Math.floor(Math.random() * 26) : 65 + Math.floor(Math.random() * 26));
      return String(Math.floor(Math.random() * 10));
    }

    function rollDigitToAscii(el, fromChar) {
      el.textContent = fromChar;
      el.classList.remove('done');
      const targetChar = DIGIT_TO_ASCII[fromChar] || 'I';
      const startIdx = digits.indexOf(fromChar);
      const steps = 8 + Math.floor(Math.random() * 9);
      const binaryRun = (startIdx >= 0 ? digits.slice(startIdx) : '') + digits.repeat(Math.ceil(steps / 2)).slice(0, steps);
      const sequence = binaryRun + targetChar;
      const holdMs = 200 + Math.random() * 400;
      const stepMs = 250 + Math.random() * 350;
      let step = 0;
      setTimeout(() => {
        const intervalId = setInterval(() => {
          step++;
          el.textContent = sequence[step] ?? targetChar;
          if (el.textContent === targetChar) {
            el.classList.add('done');
            clearInterval(intervalId);
          }
        }, stepMs);
      }, holdMs);
    }

    function cycleDigit(el, fromChar) {
      const digits = digitsCycle;
      el.textContent = digits[Math.floor(Math.random() * digits.length)];
      let nines = 0;
      const holdMs = 180 + Math.random() * 380;
      const stepMs = 280 + Math.random() * 320;
      setTimeout(() => {
        const intervalId = setInterval(() => {
          const d = digits[Math.floor(Math.random() * digits.length)];
          el.textContent = d;
          if (d === '9') {
            nines++;
            if (nines >= 11) {
              clearInterval(intervalId);
              const zeroOrOne = Math.random() < 0.5 ? '0' : '1';
              el.textContent = zeroOrOne;
              rollDigitToAscii(el, zeroOrOne);
            }
          }
        }, stepMs);
      }, holdMs);
    }

    function typoCycleThenDigit(el) {
      el.classList.remove('done');
      const iterations = 3 + Math.floor(Math.random() * 518);
      const stepMs = 450 + Math.random() * 350;
      const symbols = TYPO_CYCLE_SYMBOLS;
      let step = 0;
      el.textContent = symbols[Math.floor(Math.random() * symbols.length)];
      const intervalId = setInterval(() => {
        step++;
        if (step >= iterations) {
          clearInterval(intervalId);
          const d = String(Math.floor(Math.random() * 10));
          el.textContent = d;
          if (d === '0' || d === '1') rollDigitToAscii(el, d);
          else cycleDigit(el, d);
          return;
        }
        el.textContent = symbols[step % symbols.length];
      }, stepMs);
    }

    function startSymbolRoll(el, symbol) {
      const cycle = SYMBOL_CYCLE;
      let idx = cycle.indexOf(symbol);
      if (idx === -1) idx = 0;
      el.textContent = cycle[idx];
      setTimeout(() => {
        setInterval(() => {
          idx = (idx + 1) % cycle.length;
          el.textContent = cycle[idx];
        }, rollIntervalMs);
      }, SYMBOL_PHASE_OFFSET_MS);
    }

    const DEFAULT_BYLINE = 'murmur — Cameron Barnett';
    const DEFAULT_POEM =
`1.
I · · oun. · --_ r
n.e er lt • hole,
I onl felt .m . •
di i ·ions.
•
•
If the bo. • were a senten·ce,
•. ould we place . the heart
behind an ·ampersand
or between brackets?
0.
_ _en
was younger
learned that a rainbow
• s ju t a trick, a kiss
I was younger,
• st pped giving
• 1 • e · for fear
of being tric ·ed.
l
I
•
•
•
•
•
•
•
•
•
n
2
•
•
•
•
w
•
•
•
•
,of light and water When
1.
Th b~g ha ,·g • , aft r· all,
JU 't an . h · h y, , n
th o y 1 · h all • · _ 1 •

——— 0 ———

•
•
•
•
0.
Ir' no wond1er
I find m· . best
re.fl1e ction tow,ar,d
the margins •
of most things.
1.
•
If the body is just a. tri,ck,
•
a coll,ective· norhingn,ess,
qu.ainc an,d •c.oded, all one.s
and z,eros, then it's no wonder
I n.ever felt whole
until yo,u kis.sed m1e.
' •
•
•
•
•
•
•
•
•
•
•
•
• •`;

    function appendSpan(el, className, textContent) {
      const span = document.createElement('span');
      span.className = className;
      if (textContent != null) span.textContent = textContent;
      el.appendChild(span);
      return span;
    }

    function applyToElement(el, raw) {
      const text = raw ?? el.textContent;
      const withSymbols = replaceMathWords(text);
      el.innerHTML = '';
      for (const char of withSymbols) {
        if (isZeroOrOne(char) || digitsCycle.indexOf(char) !== -1) {
          appendSpan(el, 'roll', char);
        } else if (isMathSymbol(char)) {
          startSymbolRoll(appendSpan(el, 'symbol-roll'), char);
        } else if (isUnstableChar(char)) {
          appendSpan(el, 'unstable', char);
        } else if (PUNCTUATION_SLOW.indexOf(char) !== -1) {
          appendSpan(el, 'punctuation-slow', char);
        } else {
          el.appendChild(document.createTextNode(char));
        }
      }
      el.querySelectorAll('.roll').forEach((rollEl) => {
        const delay = Math.random() * 380;
        setTimeout(() => typoCycleThenDigit(rollEl), delay);
      });
    }

    function degradeLine(line, li, isRandom) {
      const poolLen = SUBSTITUTION_POOL.length;
      let out = '';
      for (let i = 0; i < line.length; i++) {
        const c = line[i];
        const n = isRandom ? Math.random() * 100 : (li * 997 + i * 31 + c.charCodeAt(0)) % 100;
        const seed = (li * 997 + i * 31 + c.charCodeAt(0)) % poolLen;
        const midSeed = (li * 17 + i * 53) % poolLen;
        const sub = () => isRandom ? randomSubstitutionChar() : SUBSTITUTION_POOL[seed];
        const digitFromPool = (off) => SUBSTITUTION_POOL[SUBST_POOL_DIGIT_START + ((seed + off) % 10)];
        if (n < 5) {
          out += sub();
        } else if (n < 9 && i > 0 && i < line.length - 1 && /\w/.test(c)) {
          out += c + (isRandom ? (Math.random() < 0.92 ? '·' : randomSubstitutionChar()) : SUBSTITUTION_POOL[midSeed]);
        } else if (n < 14 && /\w/.test(c)) {
          if (c === 'o' || c === 'O') out += (isRandom ? Math.random() < 0.92 : seed % 15 >= 2) ? (isRandom ? (Math.random() < 0.5 ? '0' : c) : (n % 2 ? '0' : c)) : (isRandom ? randomSubstitutionChar() : digitFromPool(0));
          else if (c === 'l' || c === 'i' || c === 'I') out += (isRandom ? Math.random() < 0.92 : seed % 15 >= 2) ? (isRandom ? (Math.random() < 0.5 ? '1' : c) : (n % 2 ? '1' : c)) : (isRandom ? randomSubstitutionChar() : digitFromPool(1));
          else out += !isRandom && seed % 25 === 0 ? SUBSTITUTION_POOL[seed % poolLen] : c;
        } else {
          out += c;
        }
      }
      return out;
    }

    function degradeText(text, isRandom) {
      const lines = text.split(/\n/);
      return lines.map((line, li) => degradeLine(line, li, isRandom)).join('\n');
    }

    function simulateBadOcr(text) {
      return degradeText(text, false);
    }

    function useBadOcr() {
      return document.getElementById('ocr-option-bad').classList.contains('active');
    }

    function setOcrMode(bad) {
      document.getElementById('ocr-option-bad').classList.toggle('active', bad);
      document.getElementById('ocr-option-accurate').classList.toggle('active', !bad);
    }

    function slowDegradeOneCharacter(poemEl) {
      const textNodes = [];
      const walk = (node) => {
        if (node.nodeType === Node.TEXT_NODE && node.textContent.length === 1 && /\w/.test(node.textContent))
          textNodes.push(node);
        node.childNodes.forEach(walk);
      };
      walk(poemEl);
      if (textNodes.length === 0) return;
      const node = textNodes[Math.floor(Math.random() * textNodes.length)];
      const span = document.createElement('span');
      const useDigit = Math.random() < 0.28;
      if (useDigit) {
        const d = String(Math.floor(Math.random() * 10));
        span.className = 'roll';
        span.textContent = d;
        node.parentNode.replaceChild(span, node);
        if (d === '0' || d === '1') rollDigitToAscii(span, d);
        else cycleDigit(span, d);
      } else {
        span.className = 'unstable';
        span.textContent = FRAG_CHARS[Math.floor(Math.random() * FRAG_CHARS.length)];
        node.parentNode.replaceChild(span, node);
      }
    }

    function startSlowDegrade(poemEl) {
      clearTimeout(window._slowDegradeInterval);
      const schedule = () => {
        const delay = 45000 + Math.random() * 90000;
        window._slowDegradeInterval = setTimeout(() => {
          if (!useBadOcr() || !poemEl.parentNode) return;
          slowDegradeOneCharacter(poemEl);
          schedule();
        }, delay);
      };
      schedule();
    }

    function updateDisplay() {
      const bylineRaw = document.getElementById('byline-input').value.trim();
      const poemRaw = document.getElementById('poem-input').value;
      const bylineEl = document.getElementById('byline');
      const poemEl = document.getElementById('poem');
      bylineEl.textContent = bylineRaw || DEFAULT_BYLINE;
      const isUserPoem = poemRaw && poemRaw !== DEFAULT_POEM;
      const poemToShow = isUserPoem
        ? (useBadOcr() ? simulateBadOcr(poemRaw) : poemRaw)
        : (poemRaw || DEFAULT_POEM);
      poemEl.textContent = poemToShow;
      applyToElement(bylineEl);
      applyToElement(poemEl);
      if (useBadOcr() && poemToShow) startSlowDegrade(poemEl);
      else clearTimeout(window._slowDegradeInterval);
    }

    document.getElementById('byline-input').addEventListener('input', () => {
      clearTimeout(window._poemTimer);
      window._poemTimer = setTimeout(updateDisplay, 200);
    });
    document.getElementById('poem-input').addEventListener('input', () => {
      clearTimeout(window._poemTimer);
      window._poemTimer = setTimeout(updateDisplay, 200);
    });
    document.getElementById('ocr-option-bad').addEventListener('click', () => { setOcrMode(true); updateDisplay(); });
    document.getElementById('ocr-option-accurate').addEventListener('click', () => { setOcrMode(false); updateDisplay(); });

    function degradeOCRText(ocrText) {
      return degradeText(ocrText, true);
    }

    async function pdfPagesToImages(file) {
      const arrayBuffer = await file.arrayBuffer();
      const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
      const numPages = pdf.numPages;
      const scale = 2;
      const pageBlobs = [];
      for (let n = 1; n <= numPages; n++) {
        const page = await pdf.getPage(n);
        const viewport = page.getViewport({ scale });
        const canvas = document.createElement('canvas');
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        const ctx = canvas.getContext('2d');
        await page.render({ canvasContext: ctx, viewport }).promise;
        const blob = await new Promise((resolve) => canvas.toBlob(resolve, 'image/png'));
        pageBlobs.push(blob);
      }
      return pageBlobs;
    }

    document.getElementById('file-input').addEventListener('change', async (e) => {
      const file = e.target.files?.[0];
      if (!file) return;
      const status = document.getElementById('ocr-status');
      status.textContent = 'Processing…';
      status.className = 'ocr-status working';
      try {
        let text = '';
        if (file.type === 'application/pdf') {
          status.textContent = 'Loading PDF…';
          const pageBlobs = await pdfPagesToImages(file);
          for (let i = 0; i < pageBlobs.length; i++) {
            status.textContent = 'OCR page ' + (i + 1) + ' of ' + pageBlobs.length + '…';
            const { data: { text: pageText } } = await Tesseract.recognize(pageBlobs[i], 'eng', {
              logger: (m) => { if (m.status) status.textContent = 'Page ' + (i + 1) + ': ' + m.status; }
            });
            text += (pageText || '').trim();
            if (i < pageBlobs.length - 1) text += '\n\n——— ' + (i + 1) + ' ———\n\n';
          }
        } else {
          const { data } = await Tesseract.recognize(file, 'eng', {
            logger: (m) => { if (m.status) status.textContent = m.status; }
          });
          text = data.text || '';
        }
        const result = useBadOcr() ? degradeOCRText(text) : text;
        document.getElementById('poem-input').value = result;
        document.getElementById('byline-input').value = file.name.replace(/\.[^.]+$/, '') || 'Uploaded';
        updateDisplay();
        status.textContent = 'Done.';
        status.className = 'ocr-status';
      } catch (err) {
        status.textContent = 'Failed: ' + (err.message || 'unknown error');
        status.className = 'ocr-status error';
      }
      e.target.value = '';
    });

    (function () {
      const FADE_DELAY_MS = 420;
      const FADE_IN_DURATION_MS = 1000;
      function fadeOut() {
        document.body.classList.add('meta-faded');
      }
      function fadeIn() {
        document.body.classList.remove('meta-faded');
        clearTimeout(window._metaFadeTimer);
        window._metaFadeTimer = setTimeout(fadeOut, FADE_IN_DURATION_MS + FADE_DELAY_MS);
      }
      window._metaFadeTimer = setTimeout(fadeOut, FADE_DELAY_MS);
      document.body.addEventListener('click', fadeIn);
    })();

    updateDisplay();
  </script>
</body>
</html>
